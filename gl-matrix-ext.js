(function() {
  vec4.fromVec3 = function(v3, val) {
    return vec4.fromValues(v3[0], v3[1], v3[2], val);
  };

  vec3.reflection = function(i, n) {
    var cos_theta, r;
    cos_theta = vec3.dot(vec3.scale(vec3.create(), i, -1), n);
    r = vec3.scale(vec3.create(), n, 2 * cos_theta);
    vec3.add(r, r, i);
    if (cos_theta > 0) {
      return vec3.normalize(r, r);
    } else {
      return vec3.fromValues(0, 0, 0);
    }
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsLW1hdHJpeC1leHQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsRUFBQSxJQUFJLENBQUMsUUFBTCxHQUFnQixTQUFDLEVBQUQsRUFBSyxHQUFMLEdBQUE7V0FDZixJQUFJLENBQUMsVUFBTCxDQUFnQixFQUFHLENBQUEsQ0FBQSxDQUFuQixFQUF1QixFQUFHLENBQUEsQ0FBQSxDQUExQixFQUE4QixFQUFHLENBQUEsQ0FBQSxDQUFqQyxFQUFxQyxHQUFyQyxFQURlO0VBQUEsQ0FBaEIsQ0FBQTs7QUFBQSxFQUtBLElBQUksQ0FBQyxVQUFMLEdBQWtCLFNBQUMsQ0FBRCxFQUFJLENBQUosR0FBQTtBQUNkLFFBQUEsWUFBQTtBQUFBLElBQUEsU0FBQSxHQUFZLElBQUksQ0FBQyxHQUFMLENBQVMsSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFJLENBQUMsTUFBTCxDQUFBLENBQVgsRUFBMEIsQ0FBMUIsRUFBNkIsQ0FBQSxDQUE3QixDQUFULEVBQTJDLENBQTNDLENBQVosQ0FBQTtBQUFBLElBQ0EsQ0FBQSxHQUFJLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBSSxDQUFDLE1BQUwsQ0FBQSxDQUFYLEVBQTBCLENBQTFCLEVBQThCLENBQUEsR0FBSSxTQUFsQyxDQURKLENBQUE7QUFBQSxJQUVBLElBQUksQ0FBQyxHQUFMLENBQVMsQ0FBVCxFQUFZLENBQVosRUFBZSxDQUFmLENBRkEsQ0FBQTtBQUlBLElBQUEsSUFBRyxTQUFBLEdBQVksQ0FBZjthQUNJLElBQUksQ0FBQyxTQUFMLENBQWUsQ0FBZixFQUFrQixDQUFsQixFQURKO0tBQUEsTUFBQTthQUdJLElBQUksQ0FBQyxVQUFMLENBQWdCLENBQWhCLEVBQWtCLENBQWxCLEVBQW9CLENBQXBCLEVBSEo7S0FMYztFQUFBLENBTGxCLENBQUE7QUFBQSIsImZpbGUiOiJnbC1tYXRyaXgtZXh0LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsidmVjNC5mcm9tVmVjMyA9ICh2MywgdmFsKSAtPlxuXHR2ZWM0LmZyb21WYWx1ZXModjNbMF0sIHYzWzFdLCB2M1syXSwgdmFsKVxuXG4jIOS4i+iomFVSTOOCkuWPguiAg+OBq+OBl+OBn1xuIyBodHRwOi8vd3d3LnNsaXMudHN1a3ViYS5hYy5qcC9+ZnVqaXNhd2EubWFrb3RvLmZ1L2NnaS1iaW4vd2lraS9pbmRleC5waHA/R0xTTCVBNCVDNyVCNCVDNCVCNiVBRCVBNSVERSVBNSVDMyVBNSVENyVBMSVGNSVBNSVENSVBNSVFQyVBNSVDRCVBNSVFQiVCOCVGQSVCMiVDQ1xudmVjMy5yZWZsZWN0aW9uID0gKGksIG4pIC0+XG4gICAgY29zX3RoZXRhID0gdmVjMy5kb3QodmVjMy5zY2FsZSh2ZWMzLmNyZWF0ZSgpLCBpLCAtMSksIG4pXG4gICAgciA9IHZlYzMuc2NhbGUodmVjMy5jcmVhdGUoKSwgbiwgKDIgKiBjb3NfdGhldGEpKVxuICAgIHZlYzMuYWRkKHIsIHIsIGkpXG5cbiAgICBpZiBjb3NfdGhldGEgPiAwXG4gICAgICAgIHZlYzMubm9ybWFsaXplKHIsIHIpXG4gICAgZWxzZVxuICAgICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwwLDApO1xuIl19